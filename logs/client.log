🔐 Noise-NK JavaScript Client
=============================
📋 Server info loaded:
   Host: localhost
   Port: 8888
   Protocol: Noise_NK_25519_AESGCM_SHA256
   Public Key: eb02a1a2a5344e689602dbe59331d505...
🔗 Connecting to localhost:8888...
✅ TCP connection established
🔒 Starting Noise-NK handshake...
🟨 JS DEBUG: mix_hash - current h: 4e6f6973655f4e4b5f32353531395f41455347434d5f53484132353600000000
🟨 JS DEBUG: mix_hash - input data type: Uint8Array
🟨 JS DEBUG: mix_hash - input data length: 0
🟨 JS DEBUG: mix_hash - input data hex: 
🟨 JS DEBUG: mix_hash - combined length: 32
🟨 JS DEBUG: mix_hash - about to call SHA256 on: 4e6f6973655f4e4b5f32353531395f41455347434d5f53484132353600000000
🟨 JS DEBUG: mix_hash - SHA256 result: 5889617402bf7829b821d6388e73968526e5982a6d51505957c8d3bd7b555a80
🟨 JS DEBUG: mix_hash - current h: 5889617402bf7829b821d6388e73968526e5982a6d51505957c8d3bd7b555a80
🟨 JS DEBUG: mix_hash - input data type: Uint8Array
🟨 JS DEBUG: mix_hash - input data length: 32
🟨 JS DEBUG: mix_hash - input data hex: eb02a1a2a5344e689602dbe59331d5052374d3a87d1db17f0ed383b7d4ff2e73
🟨 JS DEBUG: mix_hash - combined length: 64
🟨 JS DEBUG: mix_hash - about to call SHA256 on: 5889617402bf7829b821d6388e73968526e5982a6d51505957c8d3bd7b555a80eb02a1a2a5344e689602dbe59331d5052374d3a87d1db17f0ed383b7d4ff2e73
🟨 JS DEBUG: mix_hash - SHA256 result: 8d33716dfb186c135e6d7bac12757965e79e02964ede6139f6ab7641270d40b9
🟨 JS DEBUG: mix_hash - current h: 8d33716dfb186c135e6d7bac12757965e79e02964ede6139f6ab7641270d40b9
🟨 JS DEBUG: mix_hash - input data type: Uint8Array
🟨 JS DEBUG: mix_hash - input data length: 32
🟨 JS DEBUG: mix_hash - input data hex: 564aef87e37807b6167c3096e67d3fe8eb8c08594b43320810b0b3f80e0b8873
🟨 JS DEBUG: mix_hash - combined length: 64
🟨 JS DEBUG: mix_hash - about to call SHA256 on: 8d33716dfb186c135e6d7bac12757965e79e02964ede6139f6ab7641270d40b9564aef87e37807b6167c3096e67d3fe8eb8c08594b43320810b0b3f80e0b8873
🟨 JS DEBUG: mix_hash - SHA256 result: 87636e58352350c0c406a239e15828315e3d4bcc01dcab5eed58570f235dc65d
🟨 JS DEBUG: AES-GCM ENCRYPT
🟨 JS DEBUG: - plaintext length: 0
🟨 JS DEBUG: - plaintext hex: 
🟨 JS DEBUG: - symmetric key: 0d1eb3dd51182893b826d7e93956f0efa7eb391d09262b6c6d79b96e4f11d314
🟨 JS DEBUG: - nonce counter: 0
🟨 JS DEBUG: - nonce (12 bytes): 000000000000000000000000
🟨 JS DEBUG: - associated data: 87636e58352350c0c406a239e15828315e3d4bcc01dcab5eed58570f235dc65d
🟨 JS DEBUG: - ciphertext: 4489309c059596f218d2b8e106094ad4
🟨 JS DEBUG: mix_hash - current h: 87636e58352350c0c406a239e15828315e3d4bcc01dcab5eed58570f235dc65d
🟨 JS DEBUG: mix_hash - input data type: Uint8Array
🟨 JS DEBUG: mix_hash - input data length: 16
🟨 JS DEBUG: mix_hash - input data hex: 4489309c059596f218d2b8e106094ad4
🟨 JS DEBUG: mix_hash - combined length: 48
🟨 JS DEBUG: mix_hash - about to call SHA256 on: 87636e58352350c0c406a239e15828315e3d4bcc01dcab5eed58570f235dc65d4489309c059596f218d2b8e106094ad4
🟨 JS DEBUG: mix_hash - SHA256 result: e93218615d3c1e46d88ba3dfede0d317b96023008276c1d6133b644c5af34355
🔑 Handshake hash after message 1: e93218615d3c1e46d88ba3dfede0d317b96023008276c1d6133b644c5af34355
📤 Sending handshake message 1: 48 bytes
🔍 Raw message 1 hex: 564aef87e37807b6167c3096e67d3fe8eb8c08594b43320810b0b3f80e0b88734489309c059596f218d2b8e106094ad4
📨 Received handshake message 2: 48 bytes
🟨 JS DEBUG: mix_hash - current h: e93218615d3c1e46d88ba3dfede0d317b96023008276c1d6133b644c5af34355
🟨 JS DEBUG: mix_hash - input data type: Uint8Array
🟨 JS DEBUG: mix_hash - input data length: 32
🟨 JS DEBUG: mix_hash - input data hex: 6823001db427394ba19a9656465678ebf390b1e03a71aaa91c932e2aca06332b
🟨 JS DEBUG: mix_hash - combined length: 64
🟨 JS DEBUG: mix_hash - about to call SHA256 on: e93218615d3c1e46d88ba3dfede0d317b96023008276c1d6133b644c5af343556823001db427394ba19a9656465678ebf390b1e03a71aaa91c932e2aca06332b
🟨 JS DEBUG: mix_hash - SHA256 result: fa883c7fb9be7f6365e17d34983ff6934819f6b08bebbd9472cf1d62c9c17d59
🟨 JS DEBUG: mix_hash - current h: fa883c7fb9be7f6365e17d34983ff6934819f6b08bebbd9472cf1d62c9c17d59
🟨 JS DEBUG: mix_hash - input data type: Uint8Array
🟨 JS DEBUG: mix_hash - input data length: 16
🟨 JS DEBUG: mix_hash - input data hex: 61b10189fc689197cfc3c9a3e17bc420
🟨 JS DEBUG: mix_hash - combined length: 48
🟨 JS DEBUG: mix_hash - about to call SHA256 on: fa883c7fb9be7f6365e17d34983ff6934819f6b08bebbd9472cf1d62c9c17d5961b10189fc689197cfc3c9a3e17bc420
🟨 JS DEBUG: mix_hash - SHA256 result: 125b04973c2c253ff8c9b35063249348dc59fb55d4340d7944fec012fcafe2c6
🟨 JS DEBUG: SPLITTING TRANSPORT KEYS
🟨 JS DEBUG: - final chaining key: f7836daf4ee528a8501fe52de0bc794ddd0aaf0aeddd2a2c9cfa38323294a1e3
🟨 JS DEBUG: - transport key k1 (initiator->responder): 90cb0eff9bcbf49924075e1907b2d132a4a4deea2b792cc85b886b337bd325ec
🟨 JS DEBUG: - transport key k2 (responder->initiator): f3250719e643b46cf0d68db2cd27618adb1264d07fff6252c12178a28a117456
🟨 JS DEBUG: INITIATOR FINAL KEYS
🟨 JS DEBUG: - initiator send key: 90cb0eff9bcbf49924075e1907b2d132a4a4deea2b792cc85b886b337bd325ec
🟨 JS DEBUG: - initiator receive key: f3250719e643b46cf0d68db2cd27618adb1264d07fff6252c12178a28a117456
🔑 Final handshake hash: 125b04973c2c253ff8c9b35063249348dc59fb55d4340d7944fec012fcafe2c6
📝 Server payload: 
✅ Noise-NK handshake completed successfully!
🔐 Secure channel established

🔐 Testing secure communication...

--- Test Message 1 ---
📤 Sending secure message: Hello from JavaScript!
🟨 JS DEBUG: TRANSPORT ENCRYPT
🟨 JS DEBUG: - plaintext length: 22
🟨 JS DEBUG: - plaintext hex: 48656c6c6f2066726f6d204a61766153637269707421
🟨 JS DEBUG: - send key: 90cb0eff9bcbf49924075e1907b2d132a4a4deea2b792cc85b886b337bd325ec
🟨 JS DEBUG: - send nonce: 0
🟨 JS DEBUG: - nonce (12 bytes): 000000000000000000000000
🟨 JS DEBUG: - ciphertext: edda37a566263b3d3084299b9a7ffb91290042af702fe30176b1329eefd52a9a255a439ee5ff
🔌 Connection closed
