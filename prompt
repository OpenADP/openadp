We have been working on adding Keycloak authentication to our project.  Please read all README.md in the root of the project, and then docs/authn-authz-design.md, and then all the rest of the .md files in the root of the project.  We have completed Phase 3.5 and need to continue to phase 4.  I think in this phase we should update both the client and server at the same time, requiring DPoP authentication.  For now, we'll use Keycloak.  Please read the Python files in the project you think need to be updated, including client and server files.  After we get those updated, we'll test things with the encrypt/decrhypt tool in the tools directory.  Please pause after reading so we can talk about next steps.

We startetd Phase 4 implementation, but I had to leave and so we did not finish.  I asked you to document the current status and to help me by adding someting to this prompt.  Here's what you wanted me to add:

IMPORTANT CONTEXT: Phase 4 DPoP authentication is WORKING!
- Keycloak configured with DPoP support (realm + client level)
- Handshake signature verification working correctly
- JWT token validation successful
- No more "Token not bound to provided DPoP key" errors

CURRENT ISSUE: Encryption test fails on authorization headers when connecting to local server.
Next step: Debug why encrypted calls show "Missing Authorization header"
Test command: python encrypt.py test.txt --issuer http://localhost:8081/realms/openadp --servers http://localhost:8080

See PHASE-4-STATUS.md for complete details.
